# 生辰八字 · 四柱排盘

根据姓名、生日（公历/农历）、出生时间、出生地点等，自动生成八字四柱，并按「信息密度」分层输出（基础盘 → 进阶盘 → 深度盘）。

## 功能概览

- **输入**
  - 必填：日期类型（公历/农历）、出生年月日；农历支持**闰月**（`isLeapMonth`）。
  - 推荐：出生时辰/时分、性别、出生地点（可定位）、**真太阳时**校正开关。
  - 高级：年界/月界模式（立春+节气月 vs 正月初一+农历月）、早产/剖腹产备注等。

- **输出（按密度）**
  - **层级 1**：四柱（年/月/日/时，无时辰则时柱为「未知」）、地支藏干、十神（以日主为中心）、五行分布。
  - **层级 2**：时柱精确、真太阳时说明、月令/节气、格局旺衰提示、简要喜忌说明（标注流派差异）。
  - **层级 3**：大运排盘（需性别）、流年与冲合刑害摘要（文化解释）。

- **历法与模式**
  - 八字**月柱**以**节气（节）**划分月令，非农历月份。
  - **模式 A**（常用）：年界 = 立春，月界 = 节气（立春、惊蛰、清明…）。
  - **模式 B**：年界 = 农历正月初一，月界 = 农历月。

## 使用方式

1. 用本地静态服务器打开（ES Module 需同源）：
   ```bash
   npx serve -l 3750
   ```
   浏览器访问：`http://localhost:3750`

2. 或直接用支持 file 协议的浏览器打开 `index.html`（部分环境可能因 CORS 限制模块加载失败，建议用上述方式）。

## 项目结构

```
f:\8
├── index.html       # 主页面与表单
├── css/style.css    # 样式
├── js/
│   ├── app.js       # 主逻辑、UI、按密度渲染
│   ├── constants.js # 天干地支、藏干、十神、五行、生肖
│   ├── lunar.js     # 农历↔公历（含闰月，1900–2100）
│   ├── julian.js    # 儒略日与公历互转
│   ├── solarTerms.js# 二十四节（节）、月令与年界
│   ├── fourPillars.js # 四柱计算（年/月/日/时，模式 A/B）
│   ├── trueSolarTime.js # 真太阳时（经度校正）
│   └── dayun.js     # 大运排盘（性别顺逆）
└── README.md
```

## 说明

- 本工具仅供传统文化学习与娱乐，不同流派结论会有差异。
- 节气与农历数据为近似/查表实现，如需更高精度可接入天文历或专业库。
